@model ConferenceViewModel

@{
    Layout = "_Layout";
    var user = await userManager.GetUserAsync(User);
}

@if (Model == null)
{
    <h2>Is empty yet.</h2>
}
else
{
    @if (Model.Participants.Contains(user))
    {
        <p>You arleady subscribed</p>
        <button>Unsubscribe</button>
    }
    else
    {
        <button>Join now!</button>
    }

    @foreach (var admin in Model.Admins)
    {
        <div>
            <a asp-controller="account" asp-action="index" asp-route-x="@admin.ProfileAddress">
                @admin.FullName
            </a>
        </div>
    }

    <div>
        <p>@Model.Description</p>
        <div>
            <h3>Admins</h3>
            <ul>
                @foreach (var admin in Model.Admins)
                {
                    <li>@admin.FullName</li>
                }
            </ul>
        </div>
    </div>
}