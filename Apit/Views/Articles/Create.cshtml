@model NewArticleViewModel

@{
    ViewData["Title"] = "Створення нового матеріалу";
    ViewData["DisableFooter"] = true;

    var config = projectConfig.Content.Conference;

    var conference = dataManager.Conferences.Current;
    var allTopics = conference.Topics?.ToList() ?? new List<Topic>();
}


<section class="articlecreate conferencecreate conferencecreate--fullpage">

    <div asp-validation-summary="All"></div>

    <div class="container">
        <div class="conferencecreate__inner">

            <div class="conferencecreate__title title">Додати новий матеріал</div>

            <form method="post" asp-controller="articles" asp-action="create"
                  asp-route-returnUrl="@Url.Action("index", "articles")"
                  class="conferencecreate__form" id="conferenceCreating">

                @* <div class="form__blck form__blck--todo"> *@
                @*     <input asp-for="AdminKeys" value="@user.ProfileAddress" type="text" id="adminInput" placeholder="Адміністрація конференції"> *@
                @*     <button type="cancel" id="adminButton" class="button conferencecreate__button">Додати</button> *@
                @* </div> *@
                @* *@
                @* <ul id="adminList" class="conferencecreate__list"> *@
                @*     <li class="conferencecreate__topic conferencecreate__topic--static"> *@
                @*         <input class="form__input--static" asp-for="AdminKeys" value="@user.ProfileAddress" disabled type="text" placeholder="Адміністрація конференції"> *@
                @*     </li> *@
                @* </ul> *@

                <div class="form__blck form__blck--select">
                    <div class="signup__select" style="width: 100%;">
                        <select asp-for="TopicId" style="max-width: none;">
                            <option value="" disabled selected>Тема статті</option>
                            @foreach (var topic in allTopics)
                            {
                                <option value="@topic.Id">@topic.Name</option>
                            }
                        </select>
                    </div>
                </div>

                <div class="form__blck form__blck--dbl">
                    <input class="form__input" asp-for="KeyWords" type="text" placeholder="Ключові слова" maxlength="@config.TitleMaxLength">
                    <input asp-for="Title" type="text" placeholder="Заголовок" maxlength="@config.TitleMaxLength">
                </div>

                <div class="form__blck form__blck--dbl form__blck--txt">
                    <textarea asp-for="ShortDescription" maxlength="@config.ShortDescriptionMaxLength" placeholder="Короткий опис"></textarea>

                    <div class="form__blck--file">
                        <input asp-for="DocFile" type="file" accept=".docx, .doc" id="articleFile">
                        <label data-multiple-caption="{count} files selected" for="articleFile">Оберіть файл</label>
                    </div>
                </div>

                <div class="form__buttons">
                    <a class="signin__button" asp-controller="home" asp-action="index">
                        На головну
                    </a>
                    <button class="button signin__button" type="submit">
                        Створити
                        <partial name="Components/AtomIcon"/>
                    </button>
                </div>

            </form>

        </div>
    </div>

</section>